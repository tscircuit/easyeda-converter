import { it, expect } from "bun:test"
import chipRawEasy from "../assets/C9900017879.raweasy.json"
import { convertBetterEasyToTsx } from "lib/websafe/convert-to-typescript-component"
import { EasyEdaJsonSchema } from "lib/schemas/easy-eda-json-schema"
import { convertCircuitJsonToPcbSvg } from "circuit-to-svg"
import { convertEasyEdaJsonToCircuitJson } from "lib/convert-easyeda-json-to-tscircuit-soup-json"
import { runTscircuitCode } from "tscircuit"

it("should convert C9900017879 into typescript file", async () => {
  const betterEasy = EasyEdaJsonSchema.parse(chipRawEasy)
  const tsxResult = await convertBetterEasyToTsx({
    betterEasy,
  })

  expect(tsxResult).not.toContain("milmm")
  expect(tsxResult).not.toContain("NaNmm")

  // Add more specific assertions here based on the component

  expect(tsxResult).toMatchInlineSnapshot(`
    "import type { ChipProps } from "@tscircuit/props"

    const pinLabels = {
      pin1: ["pin1"],
      pin2: ["pin2"],
      pin3: ["RESET1"],
      pin4: ["GND2"],
      pin5: ["D2"],
      pin6: ["D3"],
      pin7: ["D4"],
      pin8: ["D5"],
      pin9: ["D6"],
      pin10: ["D7"],
      pin11: ["D8"],
      pin12: ["D9"],
      pin13: ["D10"],
      pin14: ["D11"],
      pin15: ["D12"],
      pin16: ["D13"],
      pin17: ["3V3"],
      pin18: ["AREF"],
      pin19: ["A0"],
      pin20: ["A1"],
      pin21: ["A2"],
      pin22: ["A3"],
      pin23: ["A4"],
      pin24: ["A5"],
      pin25: ["A6"],
      pin26: ["A7"],
      pin27: ["V5"],
      pin28: ["RESET2"],
      pin29: ["GND1"],
      pin30: ["VIN"]
    } as const

    export const ARDUINO_NANO = (props: ChipProps<typeof pinLabels>) => {
      return (
        <chip
          pinLabels={pinLabels}
          supplierPartNumbers={{
      "jlcpcb": [
        "C9900017879"
      ]
    }}
          manufacturerPartNumber="ARDUINO_NANO"
          footprint={<footprint>
            <platedhole  portHints={["pin1"]} pcbX="18.154999199999992mm" pcbY="7.620000000000012mm" holeWidth="0.9000235999999999mm" holeHeight="0.9000235999999999mm" outerWidth="1.5999967999999998mm" outerHeight="1.5999967999999998mm" rectPad={true} pcbRotation="0deg" shape="pill" />
    <platedhole  portHints={["pin29"]} pcbX="15.6149992mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin27"]} pcbX="10.534999199999987mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin25"]} pcbX="5.454999199999989mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin23"]} pcbX="0.37499919999999065mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin21"]} pcbX="-4.705000800000008mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin19"]} pcbX="-9.785000800000006mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin17"]} pcbX="-14.865000800000004mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin15"]} pcbX="-17.40500080000001mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin13"]} pcbX="-12.325000800000012mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin11"]} pcbX="-7.245000800000014mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin9"]} pcbX="-2.1650008000000156mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin7"]} pcbX="2.914999199999997mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin5"]} pcbX="7.994999199999995mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin3"]} pcbX="13.07499919999998mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin2"]} pcbX="15.6149992mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin4"]} pcbX="10.534999199999987mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin6"]} pcbX="5.454999199999989mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin8"]} pcbX="0.37499919999999065mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin10"]} pcbX="-4.705000800000008mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin12"]} pcbX="-9.785000800000006mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin14"]} pcbX="-14.865000800000004mm" pcbY="7.620000000000012mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin16"]} pcbX="-17.40500080000001mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin18"]} pcbX="-12.325000800000012mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin20"]} pcbX="-7.245000800000014mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin22"]} pcbX="-2.1650008000000156mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin24"]} pcbX="2.914999199999997mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin26"]} pcbX="7.994999199999995mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin28"]} pcbX="13.07499919999998mm" pcbY="-7.61999999999999mm" outerDiameter="1.5999967999999998mm" holeDiameter="0.9000235999999999mm" shape="circle" />
    <platedhole  portHints={["pin30"]} pcbX="18.154999199999992mm" pcbY="-7.61999999999999mm" holeWidth="0.9000235999999999mm" holeHeight="0.9000235999999999mm" outerWidth="1.5999967999999998mm" outerHeight="1.5999967999999998mm" rectPad={true} pcbRotation="0deg" shape="pill" />
    <silkscreenpath route={[{"x":3.549592799999999,"y":-8.889390399999982},{"x":4.18459279999999,"y":-8.254390399999977},{"x":4.819592799999995,"y":-8.889390399999982}]} />
    <silkscreenpath route={[{"x":-18.0402548,"y":-6.349517399999996},{"x":-18.67525479999999,"y":-6.984517399999987},{"x":-18.67525479999999,"y":-8.254517399999997},{"x":-18.0402548,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-15.500254800000008,"y":-6.349517399999996},{"x":-16.1352548,"y":-6.984517399999987},{"x":-16.770254800000004,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-12.960254800000001,"y":-6.349517399999996},{"x":-13.595254800000006,"y":-6.984517399999987},{"x":-14.230254799999997,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-10.420712000000009,"y":-6.349517399999996},{"x":-11.0554834,"y":-6.984517399999987},{"x":-11.690483400000005,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-7.880762799999999,"y":-6.349517399999996},{"x":-8.515762800000005,"y":-6.984517399999987},{"x":-9.15076280000001,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-5.340762800000007,"y":-6.349517399999996},{"x":-5.975762799999998,"y":-6.984517399999987},{"x":-6.610762800000018,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-2.8007628000000153,"y":-6.349517399999996},{"x":-3.4357628000000062,"y":-6.984517399999987},{"x":-4.070762799999997,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":-0.26076279999999485,"y":-6.349517399999996},{"x":-0.8957628000000142,"y":-6.984517399999987},{"x":-1.530762800000005,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":2.279237199999997,"y":-6.349517399999996},{"x":1.6442372000000063,"y":-6.984517399999987},{"x":1.009237199999987,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":4.819237199999989,"y":-6.349517399999996},{"x":4.184237199999998,"y":-6.984517399999987},{"x":3.549237199999993,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":7.3592371999999955,"y":-6.349517399999996},{"x":6.72423719999999,"y":-6.984517399999987},{"x":6.0892371999999995,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":9.899237200000016,"y":-6.349517399999996},{"x":9.264237199999997,"y":-6.984517399999987},{"x":8.629237199999992,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":12.43951659999999,"y":-6.349517399999996},{"x":11.804287999999985,"y":-6.984517399999987},{"x":11.16923719999997,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":14.979592799999978,"y":-6.349517399999996},{"x":14.344592799999958,"y":-6.984517399999987},{"x":13.709592799999967,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":17.51959279999997,"y":-6.349517399999996},{"x":16.88459279999998,"y":-6.984517399999987},{"x":16.24959279999996,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":18.78959279999998,"y":-8.889517399999988},{"x":19.42459279999997,"y":-8.254517399999997},{"x":19.42459279999997,"y":-6.984517399999987},{"x":18.78959279999998,"y":-6.349517399999996}]} />
    <silkscreenpath route={[{"x":16.24959279999996,"y":-8.889517399999988},{"x":16.88459279999998,"y":-8.254517399999997},{"x":17.51959279999997,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":13.709592799999967,"y":-8.889517399999988},{"x":14.344592799999958,"y":-8.254517399999997},{"x":14.979592799999978,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":11.16923719999997,"y":-8.889517399999988},{"x":11.804287999999985,"y":-8.254517399999997},{"x":12.43951659999999,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-11.690483400000005,"y":-8.889517399999988},{"x":-11.0554834,"y":-8.254517399999997},{"x":-10.420712000000009,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-16.770254800000004,"y":-8.889517399999988},{"x":-16.1352548,"y":-8.254517399999997},{"x":-15.500254800000008,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-14.230254799999997,"y":-8.889517399999988},{"x":-13.595254800000006,"y":-8.254517399999997},{"x":-12.960254800000001,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-9.15076280000001,"y":-8.889517399999988},{"x":-8.515762800000005,"y":-8.254517399999997},{"x":-7.880762799999999,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-6.610762800000018,"y":-8.889517399999988},{"x":-5.975762799999998,"y":-8.254517399999997},{"x":-5.340762800000007,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-4.070762799999997,"y":-8.889517399999988},{"x":-3.4357628000000062,"y":-8.254517399999997},{"x":-2.8007628000000153,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-1.530762800000005,"y":-8.889517399999988},{"x":-0.8957628000000142,"y":-8.254517399999997},{"x":-0.26076279999999485,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":1.009237199999987,"y":-8.889517399999988},{"x":1.6442372000000063,"y":-8.254517399999997},{"x":2.279237199999997,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":6.0892371999999995,"y":-8.889517399999988},{"x":6.72423719999999,"y":-8.254517399999997},{"x":7.3592371999999955,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":8.629237199999992,"y":-8.889517399999988},{"x":9.264237199999997,"y":-8.254517399999997},{"x":9.899237200000016,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":11.16923719999997,"y":-8.889517399999988},{"x":11.804287999999985,"y":-8.254517399999997},{"x":12.43951659999999,"y":-8.889517399999988},{"x":13.709592799999967,"y":-8.889517399999988},{"x":14.344592799999958,"y":-8.254517399999997},{"x":14.979592799999978,"y":-8.889517399999988},{"x":16.24959279999996,"y":-8.889517399999988},{"x":16.88459279999998,"y":-8.254517399999997},{"x":17.51959279999997,"y":-8.889517399999988},{"x":18.78959279999998,"y":-8.889517399999988},{"x":19.42459279999997,"y":-8.254517399999997},{"x":19.42459279999997,"y":-6.984517399999987},{"x":18.78959279999998,"y":-6.349517399999996},{"x":17.51959279999997,"y":-6.349517399999996},{"x":16.88459279999998,"y":-6.984517399999987},{"x":16.24959279999996,"y":-6.349517399999996},{"x":14.979592799999978,"y":-6.349517399999996},{"x":14.344592799999958,"y":-6.984517399999987},{"x":13.709592799999967,"y":-6.349517399999996},{"x":12.43951659999999,"y":-6.349517399999996},{"x":11.804287999999985,"y":-6.984517399999987},{"x":11.16923719999997,"y":-6.349517399999996},{"x":9.899237200000016,"y":-6.349517399999996},{"x":9.264237199999997,"y":-6.984517399999987},{"x":8.629237199999992,"y":-6.349517399999996},{"x":7.3592371999999955,"y":-6.349517399999996},{"x":6.72423719999999,"y":-6.984517399999987},{"x":6.0892371999999995,"y":-6.349517399999996},{"x":4.819237199999989,"y":-6.349517399999996},{"x":4.184237199999998,"y":-6.984517399999987},{"x":3.549237199999993,"y":-6.349517399999996},{"x":2.279237199999997,"y":-6.349517399999996},{"x":1.6442372000000063,"y":-6.984517399999987},{"x":1.009237199999987,"y":-6.349517399999996},{"x":-0.26076279999999485,"y":-6.349517399999996},{"x":-0.8957628000000142,"y":-6.984517399999987},{"x":-1.530762800000005,"y":-6.349517399999996},{"x":-2.8007628000000153,"y":-6.349517399999996},{"x":-3.4357628000000062,"y":-6.984517399999987},{"x":-4.070762799999997,"y":-6.349517399999996},{"x":-5.340762800000007,"y":-6.349517399999996},{"x":-5.975762799999998,"y":-6.984517399999987},{"x":-6.610762800000018,"y":-6.349517399999996},{"x":-7.880762799999999,"y":-6.349517399999996},{"x":-8.515762800000005,"y":-6.984517399999987},{"x":-9.15076280000001,"y":-6.349517399999996},{"x":-10.420712000000009,"y":-6.349517399999996},{"x":-11.0554834,"y":-6.984517399999987},{"x":-11.690483400000005,"y":-6.349517399999996},{"x":-12.960254800000001,"y":-6.349517399999996},{"x":-13.595254800000006,"y":-6.984517399999987},{"x":-14.230254799999997,"y":-6.349517399999996},{"x":-15.500254800000008,"y":-6.349517399999996},{"x":-16.1352548,"y":-6.984517399999987},{"x":-16.770254800000004,"y":-6.349517399999996},{"x":-18.0402548,"y":-6.349517399999996},{"x":-18.67525479999999,"y":-6.984517399999987},{"x":-18.67525479999999,"y":-8.254517399999997},{"x":-18.0402548,"y":-8.889517399999988}]} />
    <silkscreenpath route={[{"x":-2.7997468000000225,"y":8.889568200000014},{"x":-3.4347468000000134,"y":8.254568200000023},{"x":-4.0697468000000185,"y":8.889568200000014}]} />
    <silkscreenpath route={[{"x":-10.41934040000001,"y":8.889669800000021},{"x":-11.054365800000014,"y":8.254669800000016},{"x":-11.689619800000003,"y":8.889669800000021},{"x":-12.959746800000019,"y":8.889669800000021},{"x":-13.594746800000024,"y":8.254669800000016},{"x":-14.229746800000015,"y":8.889669800000021},{"x":-15.499746800000025,"y":8.889669800000021},{"x":-16.134746800000016,"y":8.254669800000016},{"x":-16.769746800000007,"y":8.889669800000021},{"x":-18.039746800000017,"y":8.889669800000021},{"x":-18.67474680000001,"y":8.254669800000016},{"x":-18.67474680000001,"y":6.98466980000002},{"x":-18.039746800000017,"y":6.349669800000022},{"x":-16.769746800000007,"y":6.349669800000022},{"x":-16.134746800000016,"y":6.98466980000002},{"x":-15.499746800000025,"y":6.349669800000022},{"x":-14.229746800000015,"y":6.349669800000022},{"x":-13.594746800000024,"y":6.98466980000002},{"x":-12.959746800000019,"y":6.349669800000022},{"x":-11.689619800000003,"y":6.349669800000022},{"x":-11.054365800000014,"y":6.98466980000002},{"x":-10.41934040000001,"y":6.349669800000022},{"x":-9.149340400000028,"y":6.349669800000022},{"x":-8.514340400000009,"y":6.98466980000002},{"x":-7.879340400000018,"y":6.349669800000022},{"x":-6.609340400000008,"y":6.349669800000022},{"x":-5.974340400000017,"y":6.98466980000002},{"x":-5.339340400000026,"y":6.349669800000022},{"x":-4.069340400000016,"y":6.349669800000022},{"x":-3.434340400000025,"y":6.98466980000002},{"x":-2.7993404000000197,"y":6.349669800000022},{"x":-1.5293404000000237,"y":6.349669800000022},{"x":-0.8943404000000186,"y":6.98466980000002},{"x":-0.25934040000001346,"y":6.349669800000022},{"x":1.0106595999999826,"y":6.349669800000022},{"x":1.6456595999999877,"y":6.98466980000002},{"x":2.2806595999999786,"y":6.349669800000022},{"x":3.5506595999999746,"y":6.349669800000022},{"x":4.18565959999998,"y":6.98466980000002},{"x":4.820659599999985,"y":6.349669800000022},{"x":6.090659599999981,"y":6.349669800000022},{"x":6.725659599999986,"y":6.98466980000002},{"x":7.360659599999977,"y":6.349669800000022},{"x":8.630659599999987,"y":6.349669800000022},{"x":9.265659599999992,"y":6.98466980000002},{"x":9.900659599999983,"y":6.349669800000022},{"x":11.170608799999997,"y":6.349669800000022},{"x":11.805380199999973,"y":6.98466980000002},{"x":12.440380199999993,"y":6.349669800000022},{"x":13.710151599999989,"y":6.349669800000022},{"x":14.34515159999998,"y":6.98466980000002},{"x":14.98015159999997,"y":6.349669800000022},{"x":16.25015159999998,"y":6.349669800000022},{"x":16.885151599999972,"y":6.98466980000002},{"x":17.520151599999963,"y":6.349669800000022},{"x":18.790151599999973,"y":6.349669800000022},{"x":19.425151599999964,"y":6.98466980000002},{"x":19.425151599999964,"y":8.254669800000016},{"x":18.790151599999973,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":12.440380199999993,"y":8.889669800000021},{"x":11.805380199999973,"y":8.254669800000016},{"x":11.170608799999997,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":17.520151599999963,"y":8.889669800000021},{"x":16.885151599999972,"y":8.254669800000016},{"x":16.25015159999998,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":14.98015159999997,"y":8.889669800000021},{"x":14.34515159999998,"y":8.254669800000016},{"x":13.710151599999989,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":9.900659599999983,"y":8.889669800000021},{"x":9.265659599999992,"y":8.254669800000016},{"x":8.630659599999987,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":7.360659599999977,"y":8.889669800000021},{"x":6.725659599999986,"y":8.254669800000016},{"x":6.090659599999981,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":4.820659599999985,"y":8.889669800000021},{"x":4.18565959999998,"y":8.254669800000016},{"x":3.5506595999999746,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":2.2806595999999786,"y":8.889669800000021},{"x":1.6456595999999877,"y":8.254669800000016},{"x":1.0106595999999826,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":-0.25934040000001346,"y":8.889669800000021},{"x":-0.8943404000000186,"y":8.254669800000016},{"x":-1.5293404000000237,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":-5.339340400000026,"y":8.889669800000021},{"x":-5.974340400000017,"y":8.254669800000016},{"x":-6.609340400000008,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":-7.879340400000018,"y":8.889669800000021},{"x":-8.514340400000009,"y":8.254669800000016},{"x":-9.149340400000028,"y":8.889669800000021}]} />
    <silkscreenpath route={[{"x":-17.32880080000001,"y":2.794000000000011},{"x":-17.32880080000001,"y":2.540101600000014}]} />
    <silkscreenpath route={[{"x":-21.215000800000013,"y":2.794000000000011},{"x":-22.739000800000014,"y":2.794000000000011},{"x":-22.739000800000014,"y":-2.7939999999999827},{"x":-17.32880080000001,"y":-2.7939999999999827},{"x":-17.32880080000001,"y":-2.584957999999986}]} />
    <silkscreenpath route={[{"x":-21.215000800000013,"y":2.794000000000011},{"x":-17.32880080000001,"y":2.794000000000011}]} />
    <silkscreenpath route={[{"x":-17.32880080000001,"y":2.540101600000014},{"x":-17.32880080000001,"y":-2.539999999999992}]} />
    <silkscreenpath route={[{"x":-21.291200800000013,"y":8.966174600000016},{"x":22.041123,"y":8.966174600000016},{"x":22.041123,"y":-8.966199999999986},{"x":-21.291200800000013,"y":-8.966199999999986},{"x":-21.291200800000013,"y":8.966174600000016}]} />
    <silkscreentext text="D13" pcbX="-16.857122800000013mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="3V3" pcbX="-14.317122800000021mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="REF" pcbX="-11.777122800000015mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A0" pcbX="-9.237122800000023mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A1" pcbX="-6.697122800000017mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A2" pcbX="-4.15712280000001mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A3" pcbX="-1.6171228000000184mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A4" pcbX="0.9228771999999879mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A5" pcbX="3.46287719999998mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A6" pcbX="6.002877199999986mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="A7" pcbX="8.542877199999978mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="5V" pcbX="11.082877200000013mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="RST" pcbX="13.622877200000005mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="GND" pcbX="16.162877199999997mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="VIN" pcbX="18.702877200000017mm" pcbY="-5.990082000000001mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D12" pcbX="-16.876934800000015mm" pcbY="3.898900000000012mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D11" pcbX="-14.336934800000009mm" pcbY="4.307840000000013mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D10" pcbX="-11.796934800000017mm" pcbY="3.898900000000012mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D9" pcbX="-9.25693480000001mm" pcbY="4.472940000000023mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D8" pcbX="-6.716934800000004mm" pcbY="4.42722000000002mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D7" pcbX="-4.176934800000012mm" pcbY="4.42722000000002mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D6" pcbX="-1.636934800000006mm" pcbY="4.472940000000023mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D5" pcbX="0.9030651999999861mm" pcbY="4.42722000000002mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D4" pcbX="3.4430651999999924mm" pcbY="4.381500000000017mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D3" pcbX="5.983065199999984mm" pcbY="4.42722000000002mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="D2" pcbX="8.52306519999999mm" pcbY="4.42722000000002mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="GND" pcbX="11.063065199999954mm" pcbY="3.4442400000000077mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="RST" pcbX="13.603065199999975mm" pcbY="3.4899600000000106mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="RXD" pcbX="16.143065199999967mm" pcbY="3.4899600000000106mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
    <silkscreentext text="TXD" pcbX="18.68306519999996mm" pcbY="3.4899600000000106mm" anchorAlignment="bottom_left" fontSize="1.500124mm" />
          </footprint>}
          cadModel={{
            objUrl: "https://modelcdn.tscircuit.com/easyeda_models/download?uuid=4e90b6d8552a4e058d9ebe9d82e11f3a&pn=C9900017879",
            rotationOffset: { x: 0, y: 0, z: 270 },
            positionOffset: { x: 0, y: 0, z: 0 },
          }}
          {...props}
        />
      )
    }"
  `)
  // const circuitJson = convertEasyEdaJsonToCircuitJson(betterEasy)
  const circuitJson = await runTscircuitCode(tsxResult)

  expect(convertCircuitJsonToPcbSvg(circuitJson)).toMatchSvgSnapshot(
    import.meta.path,
  )
  expect(
    circuitJson.find((a) => a.type === "cad_component"),
  ).toMatchInlineSnapshot(`
    {
      "cad_component_id": "cad_component_0",
      "footprinter_string": undefined,
      "model_jscad": undefined,
      "model_obj_url": "https://modelcdn.tscircuit.com/easyeda_models/download?uuid=4e90b6d8552a4e058d9ebe9d82e11f3a&pn=C9900017879&cachebust_origin=",
      "model_stl_url": undefined,
      "pcb_component_id": "pcb_component_0",
      "position": {
        "x": 0.37499919999999065,
        "y": 0.000000000000010658141036401503,
        "z": 0,
      },
      "rotation": {
        "x": 0,
        "y": 0,
        "z": 270,
      },
      "source_component_id": "source_component_0",
      "type": "cad_component",
    }
  `)

  await expect(circuitJson).toMatch3dSnapshot(import.meta.path)
}, 20000)
